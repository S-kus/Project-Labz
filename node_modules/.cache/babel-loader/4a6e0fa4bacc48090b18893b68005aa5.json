{"ast":null,"code":"import _asyncToGenerator from \"/home/saumya/Documents/Project.Tech/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport { ref } from 'vue';\nimport { projectFirestore } from '../firebase/config';\n\nvar useDocument = function useDocument(collection, id) {\n  var error = ref(null);\n  var isPending = ref(false);\n  var docRef = projectFirestore.collection(collection).doc(id);\n\n  var deleteDoc = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      var res;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              isPending.value = true;\n              error.value = null;\n              _context.prev = 2;\n              _context.next = 5;\n              return docRef[\"delete\"]();\n\n            case 5:\n              res = _context.sent;\n              isPending.value = false;\n              return _context.abrupt(\"return\", res);\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](2);\n              console.log(_context.t0.message);\n              isPending.value = false;\n              error.value = 'could not delete the document';\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 10]]);\n    }));\n\n    return function deleteDoc() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var updateDoc = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(updates) {\n      var res;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              isPending.value = true;\n              error.value = null;\n              _context2.prev = 2;\n              _context2.next = 5;\n              return docRef.update(updates);\n\n            case 5:\n              res = _context2.sent;\n              isPending.value = false;\n              return _context2.abrupt(\"return\", res);\n\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](2);\n              console.log(_context2.t0.message);\n              isPending.value = false;\n              error.value = 'could not update the document';\n\n            case 15:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[2, 10]]);\n    }));\n\n    return function updateDoc(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return {\n    error: error,\n    isPending: isPending,\n    deleteDoc: deleteDoc,\n    updateDoc: updateDoc\n  };\n};\n\nexport default useDocument;","map":{"version":3,"sources":["/home/saumya/Documents/Project.Tech/src/composables/useDocument.js"],"names":["ref","projectFirestore","useDocument","collection","id","error","isPending","docRef","doc","deleteDoc","value","res","console","log","message","updateDoc","updates","update"],"mappings":";;AAAA,SAASA,GAAT,QAAoB,KAApB;AACA,SAASC,gBAAT,QAAiC,oBAAjC;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,UAAD,EAAaC,EAAb,EAAoB;AAEtC,MAAIC,KAAK,GAAGL,GAAG,CAAC,IAAD,CAAf;AACA,MAAIM,SAAS,GAAGN,GAAG,CAAC,KAAD,CAAnB;AACA,MAAIO,MAAM,GAAGN,gBAAgB,CAACE,UAAjB,CAA4BA,UAA5B,EAAwCK,GAAxC,CAA4CJ,EAA5C,CAAb;;AAEA,MAAMK,SAAS;AAAA,uEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAChBH,cAAAA,SAAS,CAACI,KAAV,GAAkB,IAAlB;AACAL,cAAAA,KAAK,CAACK,KAAN,GAAc,IAAd;AAFgB;AAAA;AAAA,qBAKIH,MAAM,UAAN,EALJ;;AAAA;AAKRI,cAAAA,GALQ;AAMdL,cAAAA,SAAS,CAACI,KAAV,GAAkB,KAAlB;AANc,+CAOPC,GAPO;;AAAA;AAAA;AAAA;AAUdC,cAAAA,OAAO,CAACC,GAAR,CAAY,YAAIC,OAAhB;AACAR,cAAAA,SAAS,CAACI,KAAV,GAAkB,KAAlB;AACAL,cAAAA,KAAK,CAACK,KAAN,GAAc,+BAAd;;AAZc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAATD,SAAS;AAAA;AAAA;AAAA,KAAf;;AAgBA,MAAMM,SAAS;AAAA,wEAAG,kBAAOC,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAChBV,cAAAA,SAAS,CAACI,KAAV,GAAkB,IAAlB;AACAL,cAAAA,KAAK,CAACK,KAAN,GAAc,IAAd;AAFgB;AAAA;AAAA,qBAKIH,MAAM,CAACU,MAAP,CAAcD,OAAd,CALJ;;AAAA;AAKRL,cAAAA,GALQ;AAMdL,cAAAA,SAAS,CAACI,KAAV,GAAkB,KAAlB;AANc,gDAOPC,GAPO;;AAAA;AAAA;AAAA;AAUdC,cAAAA,OAAO,CAACC,GAAR,CAAY,aAAIC,OAAhB;AACAR,cAAAA,SAAS,CAACI,KAAV,GAAkB,KAAlB;AACAL,cAAAA,KAAK,CAACK,KAAN,GAAc,+BAAd;;AAZc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAATK,SAAS;AAAA;AAAA;AAAA,KAAf;;AAgBA,SAAO;AAAEV,IAAAA,KAAK,EAALA,KAAF;AAASC,IAAAA,SAAS,EAATA,SAAT;AAAoBG,IAAAA,SAAS,EAATA,SAApB;AAA+BM,IAAAA,SAAS,EAATA;AAA/B,GAAP;AAED,CAxCD;;AA0CA,eAAeb,WAAf","sourcesContent":["import { ref } from 'vue'\nimport { projectFirestore } from '../firebase/config'\n\nconst useDocument = (collection, id) => {\n\n  let error = ref(null)\n  let isPending = ref(false)\n  let docRef = projectFirestore.collection(collection).doc(id)\n\n  const deleteDoc = async () => {\n    isPending.value = true\n    error.value = null\n\n    try {\n      const res = await docRef.delete()\n      isPending.value = false\n      return res\n    }\n    catch(err) {\n      console.log(err.message)\n      isPending.value = false\n      error.value = 'could not delete the document'\n    }\n  }\n\n  const updateDoc = async (updates) => {\n    isPending.value = true\n    error.value = null\n\n    try {\n      const res = await docRef.update(updates)\n      isPending.value = false\n      return res\n    }\n    catch(err) {\n      console.log(err.message)\n      isPending.value = false\n      error.value = 'could not update the document'\n    }\n  }\n\n  return { error, isPending, deleteDoc, updateDoc }\n\n}\n\nexport default useDocument"]},"metadata":{},"sourceType":"module"}