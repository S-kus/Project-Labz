{"ast":null,"code":"import _asyncToGenerator from \"/home/saumya/Documents/Project.Tech/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport { ref } from 'vue';\nimport { projectFirestore } from '../firebase/config';\n\nvar useCollection = function useCollection(collection) {\n  var error = ref(null);\n  var isPending = ref(false); // add a new document\n\n  var addDoc = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(doc) {\n      var res;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              error.value = null;\n              isPending.value = true;\n              _context.prev = 2;\n              _context.next = 5;\n              return projectFirestore.collection(collection).add(doc);\n\n            case 5:\n              res = _context.sent;\n              isPending.value = false;\n              return _context.abrupt(\"return\", res);\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](2);\n              console.log(_context.t0.message);\n              error.value = 'could not send the message';\n              isPending.value = false;\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 10]]);\n    }));\n\n    return function addDoc(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return {\n    error: error,\n    addDoc: addDoc,\n    isPending: isPending\n  };\n};\n\nexport default useCollection;","map":{"version":3,"sources":["/home/saumya/Documents/Project.Tech/src/composables/useCollection.js"],"names":["ref","projectFirestore","useCollection","collection","error","isPending","addDoc","doc","value","add","res","console","log","message"],"mappings":";;AAAA,SAASA,GAAT,QAAoB,KAApB;AACA,SAASC,gBAAT,QAAiC,oBAAjC;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,UAAD,EAAgB;AAEpC,MAAMC,KAAK,GAAGJ,GAAG,CAAC,IAAD,CAAjB;AACA,MAAMK,SAAS,GAAGL,GAAG,CAAC,KAAD,CAArB,CAHoC,CAIpC;;AACA,MAAMM,MAAM;AAAA,uEAAG,iBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACbH,cAAAA,KAAK,CAACI,KAAN,GAAc,IAAd;AACAH,cAAAA,SAAS,CAACG,KAAV,GAAkB,IAAlB;AAFa;AAAA;AAAA,qBAKOP,gBAAgB,CAACE,UAAjB,CAA4BA,UAA5B,EAAwCM,GAAxC,CAA4CF,GAA5C,CALP;;AAAA;AAKLG,cAAAA,GALK;AAMXL,cAAAA,SAAS,CAACG,KAAV,GAAkB,KAAlB;AANW,+CAOJE,GAPI;;AAAA;AAAA;AAAA;AAUXC,cAAAA,OAAO,CAACC,GAAR,CAAY,YAAIC,OAAhB;AACAT,cAAAA,KAAK,CAACI,KAAN,GAAc,4BAAd;AACAH,cAAAA,SAAS,CAACG,KAAV,GAAkB,KAAlB;;AAZW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAANF,MAAM;AAAA;AAAA;AAAA,KAAZ;;AAgBA,SAAO;AAAEF,IAAAA,KAAK,EAALA,KAAF;AAASE,IAAAA,MAAM,EAANA,MAAT;AAAiBD,IAAAA,SAAS,EAATA;AAAjB,GAAP;AAED,CAvBD;;AAyBA,eAAeH,aAAf","sourcesContent":["import { ref } from 'vue'\nimport { projectFirestore } from '../firebase/config'\n\nconst useCollection = (collection) => {\n\n  const error = ref(null)\n  const isPending = ref(false)\n  // add a new document\n  const addDoc = async (doc) => {\n    error.value = null\n    isPending.value = true\n\n    try {\n      const res = await projectFirestore.collection(collection).add(doc)\n      isPending.value = false\n      return res\n    }\n    catch(err) {\n      console.log(err.message)\n      error.value = 'could not send the message'\n      isPending.value = false\n    }\n  }\n\n  return { error, addDoc, isPending }\n\n}\n\nexport default useCollection"]},"metadata":{},"sourceType":"module"}