{"ast":null,"code":"// import { ref } from 'vue'\n// import useStorage from '@/composables/useStorage'\n// import useCollection from '@/composables/useCollection'\n// import getUser from '@/composables/getUser'\n// import { timestamp } from '@/firebase/config'\n// import { useRouter } from 'vue-router'\n// export default {\n//   setup() {\n//     const { filePath, url, uploadImage } = useStorage()\n//     const { error, addDoc } = useCollection('playlists')\n//     const { user } = getUser()\n//     const router = useRouter()\n//     const title = ref('')\n//     const description = ref('')\n//     const file = ref(null)\n//     const fileError = ref(null)\n//     const isPending = ref(false)\n//     const handleSubmit = async () => {\n//       if (file.value) {\n//         isPending.value = true\n//         await uploadImage(file.value)\n//         const res = await addDoc({\n//           title: title.value,\n//           description: description.value,\n//           userId: user.value.uid,\n//           userName: user.value.displayName,\n//           coverUrl: url.value,\n//           filePath: filePath.value, // so we can delete it later\n//           songs: [],\n//           createdAt: timestamp()\n//         })\n//         isPending.value = false\n//         if (!error.value) {\n//           router.push({ name: 'PlaylistDetails', params: { id: res.id }})\n//         }\n//       }\n//     }\n//     // allowed file types\n//     const types = ['image/png', 'image/jpeg']\n//     const handleChange = (e) => {\n//       let selected = e.target.files[0]\n//       console.log(selected)\n//       if (selected && types.includes(selected.type)) {\n//         file.value = selected\n//         fileError.value = null\n//       } else {\n//         file.value = null\n//         fileError.value = 'Please select an image file (png or jpg)'\n//       }\n//     }\n//     return { title, description, handleSubmit, fileError, handleChange, isPending }\n//   }\n// }","map":{"version":3,"mappings":"AAkBA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA","names":[],"sourceRoot":"","sources":["/home/saumya/Documents/Vue-3/project-tech/src/views/projectlists/CreateProjectlist.vue"],"sourcesContent":["<template>\n  <div>\n      <p>ch</p>\n    <!-- <form @submit.prevent=\"handleSubmit\">\n      <h4>Create a New Playlist</h4>\n      <input type=\"text\" required placeholder=\"Playlist title\" v-model=\"title\">\n      <textarea required placeholder=\"Playlist description...\" v-model=\"description\"></textarea>\n      <label>Upload Playlist Cover Image</label>\n      <input type=\"file\" @change=\"handleChange\">\n      <div class=\"error\">{{ fileError }}</div>\n\n      <button v-if=\"!isPending\">Create</button>\n      <button v-else disabled>Saving...</button>\n    </form> -->\n  </div>\n</template>\n\n<script>\n// import { ref } from 'vue'\n// import useStorage from '@/composables/useStorage'\n// import useCollection from '@/composables/useCollection'\n// import getUser from '@/composables/getUser'\n// import { timestamp } from '@/firebase/config'\n// import { useRouter } from 'vue-router'\n\n// export default {\n//   setup() {\n//     const { filePath, url, uploadImage } = useStorage()\n//     const { error, addDoc } = useCollection('playlists')\n//     const { user } = getUser()\n//     const router = useRouter()\n\n//     const title = ref('')\n//     const description = ref('')\n//     const file = ref(null)\n//     const fileError = ref(null)\n//     const isPending = ref(false)\n\n//     const handleSubmit = async () => {\n//       if (file.value) {\n//         isPending.value = true\n//         await uploadImage(file.value)\n//         const res = await addDoc({\n//           title: title.value,\n//           description: description.value,\n//           userId: user.value.uid,\n//           userName: user.value.displayName,\n//           coverUrl: url.value,\n//           filePath: filePath.value, // so we can delete it later\n//           songs: [],\n//           createdAt: timestamp()\n//         })\n//         isPending.value = false\n//         if (!error.value) {\n//           router.push({ name: 'PlaylistDetails', params: { id: res.id }})\n//         }\n//       }\n//     }\n\n//     // allowed file types\n//     const types = ['image/png', 'image/jpeg']\n\n//     const handleChange = (e) => {\n//       let selected = e.target.files[0]\n//       console.log(selected)\n\n//       if (selected && types.includes(selected.type)) {\n//         file.value = selected\n//         fileError.value = null\n//       } else {\n//         file.value = null\n//         fileError.value = 'Please select an image file (png or jpg)'\n//       }\n//     }\n    \n//     return { title, description, handleSubmit, fileError, handleChange, isPending }\n//   }\n// }\n</script>\n\n<style>\n  form {\n    background: white;\n  }\n  input[type=\"file\"] {\n    border: 0;\n    padding: 0;\n  }\n  label {\n    font-size: 12px;\n    display: block;\n    margin-top: 30px;\n  }\n  button {\n    margin-top: 20px;\n  }\n</style>"]},"metadata":{},"sourceType":"script"}