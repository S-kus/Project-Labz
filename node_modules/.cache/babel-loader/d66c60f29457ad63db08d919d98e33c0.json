{"ast":null,"code":"import { ref } from 'vue';\nimport { projectFirestore } from '../firebase/config';\n\nconst useDocument = (collection, id) => {\n  let error = ref(null);\n  let isPending = ref(false);\n  let docRef = projectFirestore.collection(collection).doc(id);\n\n  const deleteDoc = async () => {\n    isPending.value = true;\n    error.value = null;\n\n    try {\n      const res = await docRef.delete();\n      isPending.value = false;\n      return res;\n    } catch (err) {\n      console.log(err.message);\n      isPending.value = false;\n      error.value = 'could not delete the document';\n    }\n  };\n\n  const updateDoc = async updates => {\n    isPending.value = true;\n    error.value = null;\n\n    try {\n      const res = await docRef.update(updates);\n      isPending.value = false;\n      return res;\n    } catch (err) {\n      console.log(err.message);\n      isPending.value = false;\n      error.value = 'could not update the document';\n    }\n  };\n\n  return {\n    error,\n    isPending,\n    deleteDoc,\n    updateDoc\n  };\n};\n\nexport default useDocument;","map":{"version":3,"sources":["/home/saumya/Documents/Project.Tech/project-tech/src/composables/useDocument.js"],"names":["ref","projectFirestore","useDocument","collection","id","error","isPending","docRef","doc","deleteDoc","value","res","delete","err","console","log","message","updateDoc","updates","update"],"mappings":"AAAA,SAASA,GAAT,QAAoB,KAApB;AACA,SAASC,gBAAT,QAAiC,oBAAjC;;AAEA,MAAMC,WAAW,GAAG,CAACC,UAAD,EAAaC,EAAb,KAAoB;AAEtC,MAAIC,KAAK,GAAGL,GAAG,CAAC,IAAD,CAAf;AACA,MAAIM,SAAS,GAAGN,GAAG,CAAC,KAAD,CAAnB;AACA,MAAIO,MAAM,GAAGN,gBAAgB,CAACE,UAAjB,CAA4BA,UAA5B,EAAwCK,GAAxC,CAA4CJ,EAA5C,CAAb;;AAEA,QAAMK,SAAS,GAAG,YAAY;AAC5BH,IAAAA,SAAS,CAACI,KAAV,GAAkB,IAAlB;AACAL,IAAAA,KAAK,CAACK,KAAN,GAAc,IAAd;;AAEA,QAAI;AACF,YAAMC,GAAG,GAAG,MAAMJ,MAAM,CAACK,MAAP,EAAlB;AACAN,MAAAA,SAAS,CAACI,KAAV,GAAkB,KAAlB;AACA,aAAOC,GAAP;AACD,KAJD,CAKA,OAAME,GAAN,EAAW;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,OAAhB;AACAV,MAAAA,SAAS,CAACI,KAAV,GAAkB,KAAlB;AACAL,MAAAA,KAAK,CAACK,KAAN,GAAc,+BAAd;AACD;AACF,GAdD;;AAgBA,QAAMO,SAAS,GAAG,MAAOC,OAAP,IAAmB;AACnCZ,IAAAA,SAAS,CAACI,KAAV,GAAkB,IAAlB;AACAL,IAAAA,KAAK,CAACK,KAAN,GAAc,IAAd;;AAEA,QAAI;AACF,YAAMC,GAAG,GAAG,MAAMJ,MAAM,CAACY,MAAP,CAAcD,OAAd,CAAlB;AACAZ,MAAAA,SAAS,CAACI,KAAV,GAAkB,KAAlB;AACA,aAAOC,GAAP;AACD,KAJD,CAKA,OAAME,GAAN,EAAW;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,OAAhB;AACAV,MAAAA,SAAS,CAACI,KAAV,GAAkB,KAAlB;AACAL,MAAAA,KAAK,CAACK,KAAN,GAAc,+BAAd;AACD;AACF,GAdD;;AAgBA,SAAO;AAAEL,IAAAA,KAAF;AAASC,IAAAA,SAAT;AAAoBG,IAAAA,SAApB;AAA+BQ,IAAAA;AAA/B,GAAP;AAED,CAxCD;;AA0CA,eAAef,WAAf","sourcesContent":["import { ref } from 'vue'\nimport { projectFirestore } from '../firebase/config'\n\nconst useDocument = (collection, id) => {\n\n  let error = ref(null)\n  let isPending = ref(false)\n  let docRef = projectFirestore.collection(collection).doc(id)\n\n  const deleteDoc = async () => {\n    isPending.value = true\n    error.value = null\n\n    try {\n      const res = await docRef.delete()\n      isPending.value = false\n      return res\n    }\n    catch(err) {\n      console.log(err.message)\n      isPending.value = false\n      error.value = 'could not delete the document'\n    }\n  }\n\n  const updateDoc = async (updates) => {\n    isPending.value = true\n    error.value = null\n\n    try {\n      const res = await docRef.update(updates)\n      isPending.value = false\n      return res\n    }\n    catch(err) {\n      console.log(err.message)\n      isPending.value = false\n      error.value = 'could not update the document'\n    }\n  }\n\n  return { error, isPending, deleteDoc, updateDoc }\n\n}\n\nexport default useDocument"]},"metadata":{},"sourceType":"module"}